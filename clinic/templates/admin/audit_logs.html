{% extends "base.html" %}
{% block body %}

<h2 class="page-title">Audit Logs</h2>

{% if logs.items %}
<table class="styled-table">
    <thead>
        <tr>
            <th>Time</th>
            <th>User</th>
            <th>Action</th>
            <th>IP Address</th>
        </tr>
    </thead>
    <tbody>
        {% for log in logs.items %}
        <tr>
            <td>{{ log.created_at.strftime("%d %b %Y %I:%M %p") }}</td>
            <td>
                {{ log.user.email if log.user else "System" }}
            </td>
            <td>{{ log.action.replace("_", " ").title() }}</td>
            <td>{{ log.ip_address or "-" }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<!-- PAGINATION -->
<div style="margin-top:16px;">
    {% if logs.has_prev %}
        <a href="?page={{ logs.prev_num }}">⬅ Prev</a>
    {% endif %}

    {% if logs.has_next %}
        <a href="?page={{ logs.next_num }}" style="margin-left:12px;">Next ➡</a>
    {% endif %}
</div>

{% else %}
<p>No audit logs available.</p>
{% endif %}

{% endblock %}
